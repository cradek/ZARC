<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: CPU_Block Pages: 1 -->
<svg width="1310pt" height="472pt"
 viewBox="0.00 0.00 1310.09 471.87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 467.87)">
<title>CPU_Block</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-467.87 1306.09,-467.87 1306.09,4 -4,4"/>
<text text-anchor="middle" x="651.05" y="-10" font-family="Times,serif" font-size="20.00">Linux Side Receive File State Diagram</text>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<polygon fill="lightskyblue" stroke="lightskyblue" points="54,-398.87 0,-398.87 0,-362.87 54,-362.87 54,-398.87"/>
<text text-anchor="middle" x="27" y="-377.17" font-family="Times,serif" font-size="14.00">Start</text>
</g>
<!-- Send Rx0\n(Filename) -->
<g id="node4" class="node">
<title>Send Rx0\n(Filename)</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="156.76" cy="-380.87" rx="65.52" ry="26.74"/>
<text text-anchor="middle" x="156.76" y="-384.67" font-family="Times,serif" font-size="14.00">Send Rx0</text>
<text text-anchor="middle" x="156.76" y="-369.67" font-family="Times,serif" font-size="14.00">(Filename)</text>
</g>
<!-- Start&#45;&gt;Send Rx0\n(Filename) -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;Send Rx0\n(Filename)</title>
<path fill="none" stroke="black" d="M54.16,-380.87C62.13,-380.87 71.31,-380.87 80.83,-380.87"/>
<polygon fill="black" stroke="black" points="80.84,-384.37 90.84,-380.87 80.84,-377.37 80.84,-384.37"/>
</g>
<!-- End -->
<g id="node2" class="node">
<title>End</title>
<polygon fill="lightskyblue" stroke="lightskyblue" points="1301.09,-129.87 1247.09,-129.87 1247.09,-93.87 1301.09,-93.87 1301.09,-129.87"/>
<text text-anchor="middle" x="1274.09" y="-108.17" font-family="Times,serif" font-size="14.00">End</text>
</g>
<!-- Error -->
<g id="node3" class="node">
<title>Error</title>
<polygon fill="#ff3030" stroke="#ff3030" points="1302.09,-376.87 1246.09,-376.87 1246.09,-340.87 1302.09,-340.87 1302.09,-376.87"/>
<text text-anchor="middle" x="1274.09" y="-355.17" font-family="Times,serif" font-size="14.00">Error</text>
</g>
<!-- Rx0 Await\nResponse -->
<g id="node5" class="node">
<title>Rx0 Await\nResponse</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="385.45" cy="-380.87" rx="62.87" ry="26.74"/>
<text text-anchor="middle" x="385.45" y="-384.67" font-family="Times,serif" font-size="14.00">Rx0 Await</text>
<text text-anchor="middle" x="385.45" y="-369.67" font-family="Times,serif" font-size="14.00">Response</text>
</g>
<!-- Send Rx0\n(Filename)&#45;&gt;Rx0 Await\nResponse -->
<g id="edge2" class="edge">
<title>Send Rx0\n(Filename)&#45;&gt;Rx0 Await\nResponse</title>
<path fill="none" stroke="black" d="M201.6,-400.61C213.94,-405.25 227.54,-409.52 240.52,-411.87 268.51,-416.94 276.56,-417.1 304.52,-411.87 313.86,-410.12 323.51,-407.32 332.74,-404.1"/>
<polygon fill="black" stroke="black" points="334,-407.36 342.17,-400.61 331.58,-400.79 334,-407.36"/>
</g>
<!-- Rx0 Await\nResponse&#45;&gt;Error -->
<g id="edge4" class="edge">
<title>Rx0 Await\nResponse&#45;&gt;Error</title>
<path fill="none" stroke="black" d="M429.86,-400.15C467.94,-415.31 525.22,-433.87 577.32,-433.87 577.32,-433.87 577.32,-433.87 1034.48,-433.87 1122.26,-433.87 1148.55,-432 1228.09,-394.87 1234.43,-391.91 1240.66,-387.89 1246.37,-383.6"/>
<polygon fill="black" stroke="black" points="1248.7,-386.21 1254.31,-377.22 1244.32,-380.75 1248.7,-386.21"/>
<text text-anchor="middle" x="754.25" y="-452.67" font-family="Times,serif" font-size="14.00">Timeout</text>
<text text-anchor="middle" x="754.25" y="-437.67" font-family="Times,serif" font-size="14.00">Out of retries</text>
</g>
<!-- Rx0 Await\nResponse&#45;&gt;Error -->
<g id="edge7" class="edge">
<title>Rx0 Await\nResponse&#45;&gt;Error</title>
<path fill="none" stroke="black" d="M448.78,-380.87C486.07,-380.87 534.41,-380.87 577.32,-380.87 577.32,-380.87 577.32,-380.87 1034.48,-380.87 1120.75,-380.87 1142.48,-377.55 1228.09,-366.87 1230.64,-366.55 1233.27,-366.19 1235.91,-365.79"/>
<polygon fill="black" stroke="black" points="1236.72,-369.2 1246.03,-364.15 1235.6,-362.29 1236.72,-369.2"/>
<text text-anchor="middle" x="754.25" y="-399.67" font-family="Times,serif" font-size="14.00">NAK (not CRC)</text>
<text text-anchor="middle" x="754.25" y="-384.67" font-family="Times,serif" font-size="14.00">or unexpected packet type</text>
</g>
<!-- Rx0 Await\nResponse&#45;&gt;Send Rx0\n(Filename) -->
<g id="edge3" class="edge">
<title>Rx0 Await\nResponse&#45;&gt;Send Rx0\n(Filename)</title>
<path fill="none" stroke="black" d="M322.5,-378.32C316.42,-378.13 310.35,-377.98 304.52,-377.87 276.08,-377.34 268.96,-377.35 240.52,-377.87 237.85,-377.92 235.13,-377.98 232.39,-378.04"/>
<polygon fill="black" stroke="black" points="232.27,-374.54 222.36,-378.3 232.45,-381.54 232.27,-374.54"/>
<text text-anchor="middle" x="272.52" y="-396.67" font-family="Times,serif" font-size="14.00">Timeout,</text>
<text text-anchor="middle" x="272.52" y="-381.67" font-family="Times,serif" font-size="14.00">retry</text>
</g>
<!-- Rx0 Await\nResponse&#45;&gt;Send Rx0\n(Filename) -->
<g id="edge6" class="edge">
<title>Rx0 Await\nResponse&#45;&gt;Send Rx0\n(Filename)</title>
<path fill="none" stroke="black" d="M347.02,-359.47C333.99,-353.14 319.01,-347.06 304.52,-343.87 276.74,-337.75 268.34,-337.93 240.52,-343.87 228.97,-346.33 217.09,-350.53 206.05,-355.23"/>
<polygon fill="black" stroke="black" points="204.3,-352.19 196.6,-359.47 207.16,-358.57 204.3,-352.19"/>
<text text-anchor="middle" x="272.52" y="-362.67" font-family="Times,serif" font-size="14.00">NAK</text>
<text text-anchor="middle" x="272.52" y="-347.67" font-family="Times,serif" font-size="14.00">(CRC)</text>
</g>
<!-- Rxn Await\nResponse -->
<g id="node6" class="node">
<title>Rxn Await\nResponse</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="578.32" cy="-175.87" rx="62.87" ry="26.74"/>
<text text-anchor="middle" x="578.32" y="-179.67" font-family="Times,serif" font-size="14.00">Rxn Await</text>
<text text-anchor="middle" x="578.32" y="-164.67" font-family="Times,serif" font-size="14.00">Response</text>
</g>
<!-- Rx0 Await\nResponse&#45;&gt;Rxn Await\nResponse -->
<g id="edge5" class="edge">
<title>Rx0 Await\nResponse&#45;&gt;Rxn Await\nResponse</title>
<path fill="none" stroke="black" d="M409.86,-355.73C444.37,-318.67 508.91,-249.34 547,-208.43"/>
<polygon fill="black" stroke="black" points="549.77,-210.6 554.02,-200.89 544.65,-205.83 549.77,-210.6"/>
<text text-anchor="middle" x="481.89" y="-294.67" font-family="Times,serif" font-size="14.00">ACK</text>
</g>
<!-- Rxn Await\nResponse&#45;&gt;Error -->
<g id="edge8" class="edge">
<title>Rxn Await\nResponse&#45;&gt;Error</title>
<path fill="none" stroke="black" d="M590.87,-202.61C603.59,-228.57 626.67,-266.76 659.25,-285.87 757.89,-343.72 1117.65,-355.84 1235.46,-358.28"/>
<polygon fill="black" stroke="black" points="1235.71,-361.79 1245.77,-358.48 1235.84,-354.79 1235.71,-361.79"/>
<text text-anchor="middle" x="910.25" y="-347.67" font-family="Times,serif" font-size="14.00">Timeout</text>
</g>
<!-- Rxn Await\nResponse&#45;&gt;Error -->
<g id="edge12" class="edge">
<title>Rxn Await\nResponse&#45;&gt;Error</title>
<path fill="none" stroke="black" d="M605.07,-200.39C619.84,-213.14 639.36,-227.89 659.25,-236.87 686.04,-248.96 1106.22,-327.8 1235.52,-351.89"/>
<polygon fill="black" stroke="black" points="1235.25,-355.4 1245.72,-353.79 1236.53,-348.52 1235.25,-355.4"/>
<text text-anchor="middle" x="910.25" y="-316.67" font-family="Times,serif" font-size="14.00">Unexpected</text>
<text text-anchor="middle" x="910.25" y="-301.67" font-family="Times,serif" font-size="14.00">packet type</text>
</g>
<!-- Store\ndata -->
<g id="node7" class="node">
<title>Store\ndata</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="910.25" cy="-208.87" rx="39.7" ry="26.74"/>
<text text-anchor="middle" x="910.25" y="-212.67" font-family="Times,serif" font-size="14.00">Store</text>
<text text-anchor="middle" x="910.25" y="-197.67" font-family="Times,serif" font-size="14.00">data</text>
</g>
<!-- Rxn Await\nResponse&#45;&gt;Store\ndata -->
<g id="edge9" class="edge">
<title>Rxn Await\nResponse&#45;&gt;Store\ndata</title>
<path fill="none" stroke="black" d="M639.83,-181.92C703.36,-188.28 802,-198.14 860.65,-204.01"/>
<polygon fill="black" stroke="black" points="860.47,-207.51 870.77,-205.02 861.17,-200.54 860.47,-207.51"/>
<text text-anchor="middle" x="754.25" y="-221.67" font-family="Times,serif" font-size="14.00">Rx</text>
<text text-anchor="middle" x="754.25" y="-206.67" font-family="Times,serif" font-size="14.00">CRC OK</text>
</g>
<!-- Send\nNAK -->
<g id="node8" class="node">
<title>Send\nNAK</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="910.25" cy="-56.87" rx="37.45" ry="26.74"/>
<text text-anchor="middle" x="910.25" y="-60.67" font-family="Times,serif" font-size="14.00">Send</text>
<text text-anchor="middle" x="910.25" y="-45.67" font-family="Times,serif" font-size="14.00">NAK</text>
</g>
<!-- Rxn Await\nResponse&#45;&gt;Send\nNAK -->
<g id="edge10" class="edge">
<title>Rxn Await\nResponse&#45;&gt;Send\nNAK</title>
<path fill="none" stroke="black" d="M588.1,-149.18C599.37,-119.76 622.05,-73.97 659.25,-53.87 724.05,-18.86 812.79,-31.58 865.26,-44.14"/>
<polygon fill="black" stroke="black" points="864.7,-47.6 875.25,-46.63 866.4,-40.81 864.7,-47.6"/>
<text text-anchor="middle" x="754.25" y="-57.67" font-family="Times,serif" font-size="14.00">Bad CRC</text>
</g>
<!-- End\nSend ACK -->
<g id="node9" class="node">
<title>End\nSend ACK</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="1033.48" cy="-111.87" rx="62.45" ry="26.74"/>
<text text-anchor="middle" x="1033.48" y="-115.67" font-family="Times,serif" font-size="14.00">End</text>
<text text-anchor="middle" x="1033.48" y="-100.67" font-family="Times,serif" font-size="14.00">Send ACK</text>
</g>
<!-- Rxn Await\nResponse&#45;&gt;End\nSend ACK -->
<g id="edge11" class="edge">
<title>Rxn Await\nResponse&#45;&gt;End\nSend ACK</title>
<path fill="none" stroke="black" d="M608.16,-152.15C622.58,-141.73 640.86,-130.59 659.25,-124.87 761.46,-93.1 887.06,-96.9 963.37,-103.6"/>
<polygon fill="black" stroke="black" points="963.07,-107.09 973.35,-104.52 963.71,-100.12 963.07,-107.09"/>
<text text-anchor="middle" x="754.25" y="-128.67" font-family="Times,serif" font-size="14.00">Exit</text>
</g>
<!-- Send ACK -->
<g id="node10" class="node">
<title>Send ACK</title>
<ellipse fill="aquamarine" stroke="aquamarine" cx="1170.9" cy="-175.87" rx="57.39" ry="18"/>
<text text-anchor="middle" x="1170.9" y="-172.17" font-family="Times,serif" font-size="14.00">Send ACK</text>
</g>
<!-- Store\ndata&#45;&gt;Send ACK -->
<g id="edge13" class="edge">
<title>Store\ndata&#45;&gt;Send ACK</title>
<path fill="none" stroke="black" d="M949.42,-204C991.09,-198.68 1058.46,-190.09 1107.78,-183.8"/>
<polygon fill="black" stroke="black" points="1108.22,-187.27 1117.7,-182.53 1107.34,-180.32 1108.22,-187.27"/>
</g>
<!-- Send\nNAK&#45;&gt;Rxn Await\nResponse -->
<g id="edge15" class="edge">
<title>Send\nNAK&#45;&gt;Rxn Await\nResponse</title>
<path fill="none" stroke="black" d="M874.09,-64.21C865.95,-65.83 857.31,-67.47 849.25,-68.87 765.15,-83.47 735.62,-58.75 659.25,-96.87 637.95,-107.5 618.79,-125.95 604.58,-142.34"/>
<polygon fill="black" stroke="black" points="601.75,-140.27 598.01,-150.19 607.11,-144.77 601.75,-140.27"/>
</g>
<!-- End\nSend ACK&#45;&gt;End -->
<g id="edge16" class="edge">
<title>End\nSend ACK&#45;&gt;End</title>
<path fill="none" stroke="black" d="M1095.93,-111.87C1140.42,-111.87 1199.07,-111.87 1236.44,-111.87"/>
<polygon fill="black" stroke="black" points="1236.86,-115.37 1246.86,-111.87 1236.86,-108.37 1236.86,-115.37"/>
</g>
<!-- Send ACK&#45;&gt;Rxn Await\nResponse -->
<g id="edge14" class="edge">
<title>Send ACK&#45;&gt;Rxn Await\nResponse</title>
<path fill="none" stroke="black" d="M1113.34,-174.87C1069.62,-174.15 1007.61,-173.25 953.25,-172.87 848.47,-172.14 727.17,-173.53 651.83,-174.65"/>
<polygon fill="black" stroke="black" points="651.46,-171.15 641.51,-174.8 651.56,-178.15 651.46,-171.15"/>
</g>
</g>
</svg>
